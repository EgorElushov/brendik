# Telegram Keyword Bot

Бот для Telegram, который отслеживает определенные ключевые слова в сообщениях и реагирует на них индивидуальными реакциями с настраиваемой вероятностью. Администраторы могут управлять списком отслеживаемых слов через команды боту.

## Функциональность

- Отслеживание заданных ключевых слов в сообщениях
- Индивидуальная настраиваемая реакция для каждого ключевого слова
- Настраиваемая вероятность реакции для каждого ключевого слова (от 1% до 100%)
- Реакция и вероятность по умолчанию для новых ключевых слов
- Управление списком ключевых слов через команды
- Система администраторов с поддержкой загрузки из JSON-файла

## Установка и настройка

1. Клонируйте репозиторий или скачайте файлы
2. Установите необходимые зависимости:
   ```
   pip install aiogram
   ```
3. Создайте бота в Telegram через [@BotFather](https://t.me/BotFather) и получите токен
4. Откройте файл `telegram_keyword_bot.py` и замените `YOUR_BOT_TOKEN` на полученный токен
5. Запустите бота:
   ```
   python telegram_keyword_bot.py
   ```

## Команды бота

- `/start` - Начать работу с ботом и получить список команд
- `/help` - Показать справку по командам
- `/add_keyword` - Добавить ключевое слово с индивидуальной реакцией и вероятностью (только для администраторов)
- `/remove_keyword` - Удалить ключевое слово (только для администраторов)
- `/list_keywords` - Показать список ключевых слов, их реакций и вероятностей (только для администраторов)
- `/set_reaction` - Изменить реакцию для конкретного ключевого слова (только для администраторов)
- `/set_probability` - Изменить вероятность реакции для конкретного слова (только для администраторов)
- `/set_default` - Установить реакцию по умолчанию (только для администраторов)
- `/set_default_prob` - Установить вероятность реакции по умолчанию (только для администраторов)
- `/add_admin` - Добавить нового администратора по имени пользователя (только для администраторов)
- `/reload_admins` - Перезагрузить список администраторов из файла (только для администраторов)

## Как это работает

1. Первый пользователь, который запустит бота, автоматически становится администратором
2. Администраторы могут добавлять ключевые слова через команду `/add_keyword`
3. Для каждого ключевого слова можно задать индивидуальную реакцию и вероятность
4. Когда бот обнаруживает ключевое слово в сообщении, он отправляет соответствующую реакцию с заданной вероятностью
5. Реакцию для конкретного слова можно изменить с помощью команды `/set_reaction`
6. Вероятность реакции для конкретного слова можно изменить с помощью команды `/set_probability`
7. Список ключевых слов, реакций, вероятностей и администраторов сохраняется в файле `keywords.json`
8. Список администраторов также может быть загружен из файла `admins.json`

## Примечания

- Бот чувствителен к регистру при проверке ключевых слов
- Для работы в групповых чатах необходимо добавить бота в группу и дать ему права администратора
- Для идентификации администраторов используются их имена пользователей (username)
- Список администраторов может быть загружен из файла `admins.json` (массив строк с именами пользователей)